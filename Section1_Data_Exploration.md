
Data Exploration
================

We start with our raw, uncleaned data set of condominiums in the Boston area and their characteristics. We will do an examination of the basic structure of the data along with some of the variables to get a sense of the data.

This section will contain a snap shot of the data exploration.

Data preprocessing will be handled in a seperate file.

The data set contains 61,223 observations with 76 variables.

This data set contains information about residential condonimium units. There are a series of categorical characteristics variables such as U\_KITCH\_STYLE which classifies the type of kitchen in the unit. There are numeric variables such as LIVING\_AREA which has the square footage of the living space in the unit. These variables will be used to predict our response variable, AV\_TOTAL, the assessed value of the unit.

The columns that begin with R\_ and S\_ are property characteristic values, but not for condonimiums. All of their values are missing and will be removed in the data preprocessing. There are also several columns that provide identification data about the cononimium such as owner, mailing address, and owner mailing address. These columns are not useful for our predictive model and will also be removed in the data preprocessing step.

``` r
glimpse(boston)
```

    ## Observations: 61,223
    ## Variables: 76
    ## $ PID             <chr> "0401750010_", "0401750012_", "0401750014_", "...
    ## $ Ward            <int> 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4...
    ## $ CM_ID           <chr> "0401750000_", "0401750000_", "0401750000_", "...
    ## $ GIS_ID          <chr> "0401750000_", "0401750000_", "0401750000_", "...
    ## $ ST_NUM          <chr> "210", "210", "210", "210", "210", "39", "39",...
    ## $ ST_NAME         <chr> "HEMENWAY", "HEMENWAY", "HEMENWAY", "HEMENWAY"...
    ## $ ST_NAME_SUF     <chr> "ST", "ST", "ST", "ST", "ST", "ST", "ST", "ST"...
    ## $ UNIT_NUM        <chr> "2-B", "2-C", "3-A", "3-B", "3-C", "1", "2", "...
    ## $ ZIPCODE         <chr> "02115_", "02115_", "02115_", "02115_", "02115...
    ## $ PTYPE           <int> 102, 102, 102, 102, 102, 102, 102, 102, 102, 1...
    ## $ LU              <chr> "CD", "CD", "CD", "CD", "CD", "CD", "CD", "CD"...
    ## $ OWN_OCC         <chr> "N", "N", "N", "N", "N", "N", "N", "N", "N", "...
    ## $ OWNER           <chr> "CREMIN NOREEN MARGARET TS", "DOLABANY RICHARD...
    ## $ MAIL_ADDRESSEE  <chr> "C/O JOSEPH FRANCIS TRUST", "C/O RICHARD DOLAB...
    ## $ MAIL_ADDRESS    <chr> "17 WALDEN DRIVE  APT #7", "80 PEARTREE DR", "...
    ## $ `MAIL CS`       <chr> "NATICK MA", "WESTWOOD MA", "SUN CITY CTR FL",...
    ## $ MAIL_ZIPCODE    <chr> "01760_", "02090_", "33573_", "02090_", "02115...
    ## $ AV_LAND         <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ AV_BLDG         <int> 331300, 294200, 304600, 331300, 284900, 762900...
    ## $ AV_TOTAL        <int> 331300, 294200, 304600, 331300, 284900, 762900...
    ## $ GROSS_TAX       <int> 350847, 311558, 322571, 350847, 301709, 807911...
    ## $ LAND_SF         <int> 529, 402, 366, 529, 420, 1493, 490, 260, 500, ...
    ## $ YR_BUILT        <int> 1890, 1890, 1890, 1890, 1890, 1920, 1920, 1920...
    ## $ YR_REMOD        <int> 1984, 1984, 1984, 1984, 1984, 1985, 1985, 1985...
    ## $ GROSS_AREA      <int> 529, 402, 388, 529, 420, 1493, 490, 260, 500, ...
    ## $ LIVING_AREA     <int> 529, 402, 388, 529, 420, 1493, 490, 260, 500, ...
    ## $ NUM_FLOORS      <dbl> 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1...
    ## $ STRUCTURE_CLASS <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_BLDG_STYL     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_ROOF_TYP      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_EXT_FIN       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_TOTAL_RMS     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_BDRMS         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_FULL_BTH      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_HALF_BTH      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_BTH_STYLE     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_BTH_STYLE2    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_BTH_STYLE3    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_KITCH         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_KITCH_STYLE   <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_KITCH_STYLE2  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_KITCH_STYLE3  <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_HEAT_TYP      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_AC            <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_FPLACE        <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_EXT_CND       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_OVRALL_CND    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_INT_CND       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_INT_FIN       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ R_VIEW          <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ S_NUM_BLDG      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ S_BLDG_STYL     <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ S_UNIT_RES      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ S_UNIT_COM      <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ S_UNIT_RC       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ S_EXT_FIN       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ S_EXT_CND       <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ U_BASE_FLOOR    <int> 2, 2, 3, 3, 3, 0, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2...
    ## $ U_NUM_PARK      <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ U_CORNER        <chr> "N", "N", "N", "N", "N", "N", "N", "N", "N", "...
    ## $ U_ORIENT        <chr> "A", "F", "F", "A", "T", "T", "T", "T", "T", "...
    ## $ U_TOT_RMS       <int> 3, 2, 2, 3, 2, 6, 3, 2, 3, 5, 2, 3, 3, 2, 3, 2...
    ## $ U_BDRMS         <int> 1, 1, 1, 1, 0, 2, 1, 1, 1, 2, 1, 1, 1, 0, 1, 1...
    ## $ U_FULL_BTH      <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1...
    ## $ U_HALF_BTH      <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ U_BTH_STYLE     <chr> "S", "N", "S", "S", "N", "S", "S", "S", "S", "...
    ## $ U_BTH_STYLE2    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ U_BTH_STYLE3    <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA...
    ## $ U_KITCH_TYPE    <chr> "P", "O", "F", "P", "O", "F", "O", "P", "F", "...
    ## $ U_KITCH_STYLE   <chr> "S", "N", "S", "S", "N", "S", "S", "S", "S", "...
    ## $ U_HEAT_TYP      <chr> "W", "W", "W", "W", "W", "W", "W", "W", "W", "...
    ## $ U_AC            <chr> "N", "N", "N", "N", "N", "N", "N", "N", "N", "...
    ## $ U_FPLACE        <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
    ## $ U_INT_FIN       <chr> "N", "N", "N", "N", "N", "N", "N", "N", "N", "...
    ## $ U_INT_CND       <chr> "A", "A", "A", "A", "A", "A", "A", "A", "A", "...
    ## $ U_VIEW          <chr> "A", "A", "A", "A", "A", "A", "A", "A", "A", "...

We start by examining the variable GROSS\_AREA. The summary statistics of GROSS\_AREA have the minimum value is zero and the maximum value is 13,943. A value of zero for the gross floor area does not make sense and a value of 13,943 would constitue a mansion. Neither of these values seem like a reasonable number for the amount of floor area, so we want to subset the data based on these values. A range of 500 to 3000 square feet was selected for the data.

``` r
boston %>% select(GROSS_AREA) %>% summary()
```

    ##    GROSS_AREA   
    ##  Min.   :    0  
    ##  1st Qu.:  690  
    ##  Median :  927  
    ##  Mean   : 1047  
    ##  3rd Qu.: 1250  
    ##  Max.   :13943  
    ##  NA's   :36

``` r
boston <- boston %>% .[.$GROSS_AREA >=500 & .$GROSS_AREA < 3000,]
```

The response variable is AV\_TOTAL which is the assessed value of the unit. First, we want to look at a summary of the variable. There appears to be a large spread in the data and from the plot below, the distribution is heavily right skewed.

``` r
boston %>% select(AV_TOTAL) %>% summary()
```

    ##     AV_TOTAL      
    ##  Min.   :  40500  
    ##  1st Qu.: 308900  
    ##  Median : 448338  
    ##  Mean   : 589238  
    ##  3rd Qu.: 661075  
    ##  Max.   :6614000  
    ##  NA's   :36

``` r
ggplot(boston) +
  geom_histogram(aes(x = AV_TOTAL), binwidth = 2000)
```

    ## Warning: Removed 36 rows containing non-finite values (stat_bin).

![](Section1_Data_Exploration_files/figure-markdown_github/unnamed-chunk-5-1.png)

Let's look at the assessed value based on the view type of the condo. First, we need to change the variable to a factor type and rename them so they are more informative. The plot below shows that the assessed value is larger depending on the type of view the unit has. A view of "special" seems to be very important for the assessed value.

``` r
boston$U_VIEW <- factor(boston$U_VIEW)
levels(boston$U_VIEW) <- c("Average", "Excellent", "Fair", "Good", "Poor", "Special")

ggplot(boston) + 
  geom_boxplot(aes(x = reorder(U_VIEW, AV_TOTAL, FUN = median), 
                   y = AV_TOTAL)) +
  labs(title="Assessed Value by View Type", y="Assessed Value", x="View Type")
```

    ## Warning: Removed 36 rows containing non-finite values (stat_boxplot).

![](Section1_Data_Exploration_files/figure-markdown_github/unnamed-chunk-6-1.png)

The variable GROSS\_TAX is the total amount taxed for the property. Looking at the summary statistics, the mean is close to the mean for the assessed value, AV\_TOTAL. I did some research on the city of Boston website and the tax should be 10.59% of the total assessed value of property. It was concluded that the values are missing a decimal point. We will need to fix this variable and examine it further in our data preprocessing step.

``` r
boston %>% select(GROSS_TAX) %>% summary()
```

    ##    GROSS_TAX      
    ##  Min.   :  42890  
    ##  1st Qu.: 327125  
    ##  Median : 474842  
    ##  Mean   : 624009  
    ##  3rd Qu.: 700078  
    ##  Max.   :7004226  
    ##  NA's   :36

Since the gross tax is calculate from the assessed value, they should be perfectly correlated. A plot of AV\_TOTAL by GROSS\_TAX verifies that they are perfectly correlated. There are some values that don't fall on the line exactly. These points could be properties that were incorrectly taxed.

``` r
ggplot(boston) +
  geom_point(aes(x=GROSS_TAX, y=AV_TOTAL))
```

    ## Warning: Removed 36 rows containing missing values (geom_point).

![](Section1_Data_Exploration_files/figure-markdown_github/unnamed-chunk-8-1.png)

Here we plot the assessed value by the year the property was built. We can see an increasing trend in the plot showing the newer the home, the higher the assessed value. The strength of this trend may not be as large as it appears since the majority of the data is in the lower values.

``` r
boston %>% filter(YR_BUILT > 1500) %>%  
  ggplot() +
    geom_point(mapping = aes(x=YR_BUILT, y=AV_TOTAL))+
  labs(title="Assessed Value by Year Built", y="Assessed Value", x="Year Built")
```

![](Section1_Data_Exploration_files/figure-markdown_github/unnamed-chunk-9-1.png)

The main question in this data is do the predictors influence the wards differently. Here we get an overview of the assessed value of the property by ward. We can see that there are higher value wards and lower value wards. Does the ward have an influence on what characteristics are important or does the same model accurately predict over all the wards? We will attempt to answer this question in the modeling sections.

``` r
ggplot(boston) +
  geom_point(aes(x=Ward, y=AV_TOTAL))+
  labs(title="Assessed Value by Ward", y="Assessed Value", x="Ward")
```

    ## Warning: Removed 36 rows containing missing values (geom_point).

![](Section1_Data_Exploration_files/figure-markdown_github/unnamed-chunk-10-1.png)
